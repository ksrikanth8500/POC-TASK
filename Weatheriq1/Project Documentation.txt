# WeatherIQ â€“ Intelligent Weather Analytics System

WeatherIQ is a full-stack weather data analytics system built in 4 phases. It fetches real-time, forecasted, and historical weather data, stores and processes it, and uses vector embeddings to support Retrieval-Augmented Generation (RAG) for intelligent query responses.

---

## ğŸŒ Project Architecture

```
                 OpenWeatherMap API
                          |
              --------------------------
              |         |         |    |
        Real-time  Forecast  Historical  Air Quality
              |         |         |    |
              +---------+---------+----+
                        |
                Phase 2: Collectors
                        |
                   PostgreSQL
                        |
                Phase 3: Ingestion
             (Transform + Validation)
                        |
         +--------------+-------------+
         |                            |
  SentenceTransformer           pgvector
         |                            |
         +--------------+-------------+
                        |
              Phase 4: FastAPI RAG API
                        |
                      Client
```

---

## ğŸ“‚ Folder Structure

```
WeatherIQ/
â”œâ”€â”€ phase1/                              # Infrastructure Setup
â”‚   â””â”€â”€ airflow_local/
â”‚       â””â”€â”€ dags/
â”‚
â”œâ”€â”€ phase2/                              # Weather Data Collection
â”‚   â”œâ”€â”€ collectors/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ realtime_collector.py
â”‚   â”‚   â”œâ”€â”€ historical_collector.py
â”‚   â”‚   â”œâ”€â”€ forecast_collector.py
â”‚   â”‚   â”œâ”€â”€ air_quality_collector.py
â”‚   â”‚   â””â”€â”€ config.py
â”‚   â”œâ”€â”€db/ db.py
â”‚   â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ phase3/                              # Data Ingestion
â”‚   â”œâ”€â”€ ingestion/
â”‚   â”‚   â”œâ”€â”€ transform.py
â”‚   â”‚   â”œâ”€â”€ validate.py
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ collectors/
â”‚   â”‚   â””â”€â”€ realtime_collector.py
â”‚   
â”‚   
â”‚
â”œâ”€â”€ phase4/                              # RAG System
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ rag_api.py                   # FastAPI application
â”‚   â”‚   â”œâ”€â”€ embedder.py                 # Embedding generation
â”‚   â”‚   â”œâ”€â”€ storage.py                  # pgvector search and storage
â”‚
â”œâ”€â”€ db.py
â”œâ”€â”€ main.py
â”œâ”€â”€ models.py
â”œâ”€â”€ weather_service.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ README.md
â”œâ”€â”€ architecture.png                    # Architecture Diagram
â””â”€â”€ requirements.txt
```

---

## ğŸš€ Phase-wise Breakdown

### âœ… Phase 1: Infrastructure
- Setup PostgreSQL with pgvector
- FastAPI base initialized
- Optional: Docker/WSL setup for Airflow

### âœ… Phase 2: Weather Data Collectors
- Fetches real-time, historical, forecast, and air quality data
- Stores raw and structured data into PostgreSQL

### âœ… Phase 3: Ingestion Pipelines
- Uses transformation and validation logic
- Scheduled with Airflow to run ETL jobs

### âœ… Phase 4: RAG System
- SentenceTransformer for embeddings
- pgvector stores & searches embeddings
- FastAPI provides top-3 matching results based on similarity

---

## ğŸ‘¨â€ğŸ’» Technologies Used
- FastAPI
- PostgreSQL + pgvector
- Apache Airflow
- SentenceTransformer
- OpenWeatherMap API

---

## âš™ï¸ Setup Instructions

1. **PostgreSQL Setup**
   - Ensure pgvector extension is installed and enabled
2. **Install Requirements**
   ```bash
   pip install -r requirements.txt
   ```
3. **Run FastAPI**
   ```bash
   uvicorn phase4.api.rag_api:app --reload
   ```
4. **Access Docs**
   - http://127.0.0.1:8000/docs

---

## ğŸ”— GitHub Repository

### Repository: [WeatherIQ](https://github.com/your-username/WeatherIQ)

Push the project using:
```bash
git init
git remote add origin https://github.com/your-username/WeatherIQ.git
git add .
git commit -m "Initial commit"
git push -u origin master
```

---
